<?xml version="1.0" encoding="UTF-8"?>
<!--<?xml-model href="file:../5.1/dbref.rnc" type="application/relax-ng-compact-syntax"?>-->
<section xml:id="dbc.struct.pretty-print" remap="topic"
   xmlns="http://docbook.org/ns/docbook"
   xmlns:xi="http://www.w3.org/2001/XInclude"
   xmlns:xlink="http://www.w3.org/1999/xlink">
  <title>Pretty-Printing DocBook Documents</title>
  <info>
    <definitions definitionfile="defs.xml"/>
  </info>
  
  <section role="problem">
    <title>Problem</title>
    <para>Your files, be it autogenerated or somehow
      <quote>mangeled</quote> are poorly indented and you want to have
      get rid of this. </para>
  </section>
  <section role="solution">
    <title>Solution</title>
    <para>There are different solution to this problem:</para>
    <itemizedlist>
      <listitem>
        <para>A <quote>pretty-print</quote> stylesheet</para>
      </listitem>
      <listitem>
        <para>The XML parser <command>xmllint</command></para>
      </listitem>
      <listitem>
        <para>The command <command>xmlformat</command></para>
      </listitem>
    </itemizedlist>
    
    <section xml:id="sec.struct.pretty-print.xmllint">
      <title>XML Parser <command>xmllint</command></title>
      <para>The XML parser <command>xmllint</command> has got the option
      <option>-format</option> to turn on indentation of every element.</para>
      <screen><command>xmllint</command> -format <replaceable>XMLFILE</replaceable></screen>
    </section>
    <section xml:id="sec.struct.pretty-print.xslt">
      <title>The Pretty-Print Stylesheet</title>
      <para>The simplest stylesheet for indentation is shown in <xref 
        linkend="ex.pretty.xsl"/>.
      It relies on the <filename>copy.xsl</filename> stylesheet.</para>
      <example xml:id="ex.pretty.xsl">
        <title><filename>pretty.xsl</filename></title>
        <programlisting language="xml"><xi:include
          href="xslt/pretty.xsl" parse="text"/></programlisting>
      </example>
    </section>
    <section xml:id="sec.struct.pretty-print.xmlformat">
      <title>Command <command>xmlformat</command></title>
      <para>FIXME</para>
    </section>
  </section>
  <section role="discussion">
    <title>Discussion</title>
    <para>The command <command>xmllint</command> with its option
      <option>-format</option> is probably the easiest candidate but
      lacks customization. The <filename>pretty.xsl</filename>
      stylesheet is a pure XSLT solution. The most adaptable method is
      <command>xmlformat</command>.</para>
  </section>
  <!--<section role="seealso">
    <title>See Also</title>
    <para></para>
  </section>-->
</section>
