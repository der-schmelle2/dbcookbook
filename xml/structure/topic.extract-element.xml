<?xml version="1.0" encoding="UTF-8"?>
<!--<?xml-model href="file:../5.1/dbref.rnc" type="application/relax-ng-compact-syntax"?>-->
<section xml:id="dbc.structure.extract" remap="topic"
   xmlns="http://docbook.org/ns/docbook"
   xmlns:xi="http://www.w3.org/2001/XInclude"
   xmlns:xlink="http://www.w3.org/1999/xlink">
  <title>Extracting One Element from DocBook Document</title>
  <info>
    <definitions definitionfile="defs.xml"/>
  </info>
  
  <section role="problem">
    <title>Problem</title>
    <para>You have a big DocBook document and you need to extract one
      structural element like a <tag>chapter</tag>, <tag>appendix</tag>
      etc. to edit it separately from the main document.</para>
  </section>
  <section role="solution">
    <title>Solution</title>
    <para>To make the solution work, the structural element needs an ID
    attribute. If this is available, use the following stylesheet:</para>
    <example xml:id="ex.rootid.xsl">
      <title>Extracting Stylesheet</title>
      <programlisting linenumbering="numbered"
        language="xml"><xi:include href="xslt/rootid.xsl" parse="text"/></programlisting>
    </example>
    <para>Pass the <parameter>rootid</parameter> parameter to your XSLT
    processor with the corresponding ID, for example:</para>
    <screen><command>xsltproc</command> --stringparam rootid intro <!-- 
    --> rootid.xsl <replaceable>XML_FILE</replaceable></screen>
  </section>
  <section role="discussion">
    <title>Discussion</title>
    <para>This solution cuts off the element with the corresponding ID
      and its children. As such it does not correct any <tag>xref</tag>
      tags pointing to a different chapter. If the resulting file
      contains such cross references, it will not be valid anymore.</para>
    <para>It is possible to convert such cross references into the
      <quote>resolved form</quote> by using the following code:</para>
    <programlisting>TBD</programlisting>
  </section>
  <!--<section role="seealso">
    <title>See Also</title>
    <para></para>
  </section>-->
</section>
