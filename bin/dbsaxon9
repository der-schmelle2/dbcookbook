#!/bin/bash
# 
# saxon script
# JPackage Project <http://www.jpackage.org/>

# Get the absolute path of this script:
ABSPATH=$(dirname $(readlink -f ${BASH_SOURCE[0]}))
# Cut the last directory part, as script is in .../bin
ABSPATH=${ABSPATH%/*}
# 
BUILDDIR=${ABSPATH}/build
FRAMEWORKSDIR=${ABSPATH}/frameworks
BASEXSLT=${FRAMEWORKSDIR}/xslt2/base

# echo BASEXSLT=${BASEXSLT}

#    -r:org.apache.xml.resolver.tools.CatalogResolver \
# -init:docbook.Initializer
bin/saxon9 -xi  \
   -s:en/xml/DocBook-Cookbook.xml \
   -xsl:${BASEXSLT}/html/docbook.xsl \
   -o:${BUILDDIR}/html/DocBook-Cookbook2.html $@

[ -e ${BUILDDIR}/html/css ] || ln -s ${BASEXSLT}/css/ ${BUILDDIR}/html/


echo "Done"
