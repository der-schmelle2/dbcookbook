<?xml version="1.0" encoding="UTF-8"?>
<!--
    License CC BY-NC-SA 3.0
  
   This work is licensed under the 
   "Namensnennung – Keine kommerzielle Nutzung – Weitergabe unter
    gleichen Bedingungen 3.0 Deutschland (CC BY-NC-SA 3.0)" 
   http://creativecommons.org/licenses/by-nc-sa/3.0/de/deed.de
   
   Read the English translation here:
   
   "Attribution-NonCommercial-ShareAlike 3.0 Unported (CC BY-NC-SA 3.0)" 
   http://creativecommons.org/licenses/by-nc-sa/3.0/
   
-->
<!--<?xml-model href="file:../5.1/dbref.rnc" type="application/relax-ng-compact-syntax"?>-->

<section xml:id="dbc.common.xpath.location" remap="topic" 
   userlevel="easy"
   xmlns="http://docbook.org/ns/docbook"
   xmlns:xi="http://www.w3.org/2001/XInclude"
   xmlns:xlink="http://www.w3.org/1999/xlink">
  <title>Retrieving XPath</title>
  <info>
    <definitions definitionfile="defs.xml"/>
    <keywordset>
      <keyword>XPath</keyword>
      <keyword>debugging</keyword>
    </keywordset>
  </info>
  
  <section role="problem">
    <title>Problem</title>
    <para>You need the path to your current node—the XPath—to output it
      as debugging information or in your target format.</para>
  </section>
  <section role="solution">
    <title>Solution</title>
    <para>The DocBook XSL stylesheet offers the
      <function>xpath.location</function> template for this purpose. To
      output the current XPath, use the following code:</para>
    <programlisting language="xml">&lt;xsl:call-template name="xpath.location"/></programlisting>
    <para>If you need the XPath for a different node, use this:</para>
    <programlisting language="xml">&lt;xsl:call-template name="xpath.location">
  &lt;xsl:with-param name="node" select="<replaceable>YOUR_XPath_Expression</replaceable>"/>
&lt;/xsl:call-template></programlisting>
  </section>
  <section role="discussion">
    <title>Discussion</title>
    <para>To know the XPath of a node is very convenient especially when
      you are debuggin. A <tag>xsl:message</tag> statement can give you
      the right hint where you are:</para>
    <programlisting language="xml">&lt;xsl:message>
  &lt;xsl:text>Current XPath: &lt;/xsl:text>
  &lt;xsl:call-template name="xpath.location"/>
&lt;/xsl:message></programlisting>
  </section>
  <section role="seealso">
    <title>See Also</title>
    <itemizedlist>
      <listitem>
        <para><link xlink:href="http://docbook.sourceforge.net/release/xsl/current/doc/lib/xpath.location.html"/></para>
      </listitem>
    </itemizedlist>
  </section>
</section>
